<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç–∞—Ö</title>
    <style>
        body {
            display: flex;
            flex-direction: row;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
        }

        #map {
            flex: 1;
            height: 100vh;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        #filter {
            width: 300px; /* –ó–∞–¥–∞–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —à–∏—Ä–∏–Ω—É –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ */
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        #info-box {
            position: absolute;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .filter-label {
            display: block;
            margin: 10px 0;
        }

        h3 {
            color: #333;
            font-weight: bold;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            #filter {
                width: 100%; /* –ü–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
                box-shadow: none; /* –£–±–∏—Ä–∞–µ–º —Ç–µ–Ω—å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }
            #map {
                height: 50vh; /* –í—ã—Å–æ—Ç–∞ –∫–∞—Ä—Ç—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }
        }

        @media (max-width: 480px) {
            #info-box {
                width: 90%; /* –®–∏—Ä–∏–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞ */
            }
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div id="info-box"></div>
    <div id="filter">
        <h3>–§–∏–ª—å—Ç—Ä –Ω–æ–≤–æ—Å—Ç—Ä–æ–µ–∫</h3>
        <label class="filter-label">
            <input type="checkbox" value="–ö–ü" onchange="filterApartments()"> –ö–ü
        </label>
        <label class="filter-label">
            <input type="checkbox" value="–ñ–ö" onchange="filterApartments()"> –ñ–ö
        </label>
        <label class="filter-label">
            <input type="checkbox" value="–ü–ì–¢" onchange="filterApartments()"> –ü–ì–¢
        </label>
    </div>

    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"></script>
    <script>
        // –î–∞–Ω–Ω—ã–µ –æ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞—Ö —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
        const commonDescription = `
            <strong>–û—Ç–¥–µ–ª—ã –ø—Ä–æ–¥–∞–∂:</strong><br>
            —Å. –ù–∞–≥–∞–µ–≤–æ, –ê–∫–±–µ—Ä–¥–∏–Ω–æ/–ë–ª–æ—Ö–∏–Ω–æ - —É–ª. –ú. –î–æ—Ä–æ—Ö–æ–≤–∞ 101–•<br>
            –û—Å–æ—Ä–≥–∏–Ω—Å–∫–∏–π –ü–æ—Å–∞–¥ - –û—Å–æ—Ä–≥–∏–Ω–æ —É–ª. –ú–æ–ª–æ–¥—ë–∂–Ω–∞—è 23<br>
            –ö—Ä–∞—Å–Ω—ã–π –Ø—Ä - —É–ª. –¢–æ–ø–æ–ª–∏–Ω–∞—è 1/1<br><br>
            <strong>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–∞–∂ WA:</strong><br>
            –†—É–¥–æ–ª—å—Ñ +7-917-044-21-12<br>
            –†–∏—à–∞—Ç +7 987 627-09-80<br>
            –ê–¥–µ–ª–∏–Ω–∞ +7-927-351-88-82<br>
            –ê—Ä—Ç—É—Ä +7-917-348-69-84<br>
            –ë–∞—Ö—Ç–∏–µ—Ä +7-927-354-35-88<br><br>
            <strong>–í–æ–π–¥–∏—Ç–µ –≤ —á–∞—Ç —Å –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–º:</strong><br>
            üì≤ –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞–º –∏ —Ü–µ–Ω–∞–º: +7-987-495-26-45<br>
            üë• –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞: +7-987-495-26-45<br><br>
            <strong>–£—Å–ª–æ–≤–∏—è –∞–≥–µ–Ω—Ç—Å–∫–æ–≥–æ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è:</strong><br>
            3% - –¥–æ–≥–æ–≤–æ—Ä –ø–æ–¥—Ä—è–¥–∞<br>
            100 000 ‚ÇΩ - –≥–æ—Ç–æ–≤—ã–µ –¥–æ–º–∞
        `;

        const apartments = [
            {
                name: "–ö–ü –†–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∏–π",
                coords: [54.682089, 56.188307],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –ù–∞–≥–∞–µ–≤–æ –ü—Ä–µ–º–∏—É–º",
                coords: [54.643113, 56.140627],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –í–µ—Ç–µ—Ä—Ä–∞",
                coords: [54.581615, 55.796150],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö—Ä–∞—Å–Ω—ã–π –Ø—Ä",
                coords: [54.888684, 55.928781],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –û—Å–æ—Ä–≥–∏–Ω—Å–∫–∏–π –ø–æ—Å–∞–¥",
                coords: [54.561416, 55.754191],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ü–ì–¢ –ë–ª–æ—Ö–∏–Ω–æ",
                coords: [54.592050, 56.234382],
                description: commonDescription,
                status: "–ü–ì–¢",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ñ–ö –õ–µ—Ä–º–æ–Ω—Ç–æ–≤",
                coords: [54.864284, 55.737360],
                description: commonDescription,
                status: "–ñ–ö",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –ö—Ä–∞—Å–Ω–∞—è –ø–æ–ª—è–Ω–∞",
                coords: [54.591294, 56.235219],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –≠–∫–æ–≤–∏–ª–ª–∞–¥–∂ –≤ –®–º–∏–¥—Ç–æ–≤–æ",
                coords: [54.626804, 56.205225],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ñ–ö –ì–µ–æ–º–µ—Ç—Ä–∏—è",
                coords: [54.648682, 56.123245],
                description: commonDescription,
                status: "–ñ–ö",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–≠–∫–æ-–≤–∏–ª–ª–∞–¥–∂ –≤ –ù–∞–≥–∞–µ–≤–æ",
                coords: [54.629383, 56.137842],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "Family Park",
                coords: [54.631473, 56.139339],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            // –ù–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
            {
                name: "–ñ–ö –ü–æ—Ä—ÇLAND",
                coords: [54.644671, 56.147221],
                description: commonDescription,
                status: "–ñ–ö",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –ü–ª–∞–Ω–µ—Ç–∞",
                coords: [54.794129, 55.677474],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –ê–ª—ã–µ –ü–∞—Ä—É—Å–∞",
                coords: [54.864031, 55.736565],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–¢–∞—É–Ω–ø–∞—Ä–∫ –ê–Ω–¥–µ—Ä—Å–µ–Ω",
                coords: [54.752671, 55.729998],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –ö–∞—Ä–ø–æ–≤—Å–∫–∏–π",
                coords: [54.680483, 56.131244],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –ï—Å–µ–Ω–µ–Ω—Å–∫–∏–π 2",
                coords: [54.634620, 56.109321],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–î–µ–≤–∏—á—å—è –≥–æ—Ä–∞",
                coords: [54.593051, 56.208728],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ï–ª–∫–∏–±–∞–µ–≤–æ",
                coords: [54.692190, 56.091311],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–°–∞–º–æ—Ö–≤–∞–ª–æ–≤–∫–∞",
                coords: [54.674992, 56.157503],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ú–∏–ª–ª–µ–Ω–∏—É–º –ø–∞—Ä–∫",
                coords: [54.632088, 56.194134],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ù–∞–≥–∞–µ–≤—Å–∫–∏–π –ø–∞—Ä–∫",
                coords: [54.624567, 56.169047],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–í–µ—Ç–æ—à–Ω–∏–∫–æ–≤–æ",
                coords: [54.746051, 55.802627],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            // –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
            {
                name: "–ñ–ö –ü—Ä–µ–º—å–µ—Ä 2",
                coords: [54.689201, 55.768868],
                description: commonDescription,
                status: "–ñ–ö",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            },
            {
                name: "–ö–ü –ú–∏–ª–ª–µ–Ω–∏—É–º –ø–∞—Ä–∫",
                coords: [54.633859, 56.200634],
                description: commonDescription,
                status: "–ö–ü",
                image: "https://via.placeholder.com/150" // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            }
        ];

        let map, placemarks = [];

        ymaps.ready(init);

        function init() {
            map = new ymaps.Map("map", {
                center: [54.775272, 56.064735], // –¶–µ–Ω—Ç—Ä –∫–∞—Ä—Ç—ã
                zoom: 10
            });

            apartments.forEach(addPlacemark);
            map.events.add('click', hideInfoBox);
        }

        function addPlacemark(apartment) {
            const placemark = new ymaps.Placemark(apartment.coords, {
                balloonContentHeader: apartment.name,
                balloonContentBody: `
                    <div>
                        <img src="${apartment.image}" alt="${apartment.name}" height="100" width="150" style="border-radius: 8px;">
                        <p>${apartment.description}</p>
                    </div>
                `,
                balloonContentFooter: apartment.status,
            }, {
                preset: 'islands#icon',
                iconColor: '#0095b6'
            });

            placemark.events.add('click', () => showInfoBox(apartment));
            map.geoObjects.add(placemark);
            placemarks.push({ placemark, status: apartment.status });
        }

        function showInfoBox(apartment) {
            const infoBox = document.getElementById('info-box');
            infoBox.innerHTML = `
                <strong>${apartment.name}</strong><br>
                <strong>–ê–¥—Ä–µ—Å:</strong> ${apartment.description}<br>
            `;
            infoBox.style.display = 'block';
        }

        function hideInfoBox() {
            const infoBox = document.getElementById('info-box');
            infoBox.style.display = 'none';
        }

        function filterApartments() {
            const selectedStatuses = Array.from(document.querySelectorAll('#filter input:checked')).map(input => input.value);
            placemarks.forEach(({ placemark, status }) => {
                const isVisible = selectedStatuses.length === 0 || selectedStatuses.includes(status);
                placemark.options.set('visible', isVisible);
            });
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ —â–µ–ª—á–∫–µ –≤–Ω–µ
        document.addEventListener('click', (event) => {
            const infoBox = document.getElementById('info-box');
            if (event.target.closest('#info-box') === null && event.target.closest('.ymaps-2-1-placemark') === null) {
                infoBox.style.display = 'none';
            }
        });
    </script>
</body>
</html>
